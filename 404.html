<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Redirectingâ€¦</title>
    <script>
      // GitHub Pages serves a 404.html for unknown paths. We redirect back to the
      // app entry point and store the intended path in query params.
      (function () {
        var path = window.location.pathname;
        var segments = path.split("/").filter(Boolean);

        // On GitHub Pages, first segment is usually the repo name.
        var repo = segments.length ? segments[0] : "";
        var base = repo ? "/" + repo : "";
        var rest = segments.slice(1).join("/");
        var p = "/" + rest;

        var params = new URLSearchParams();
        params.set("p", p);

        // Preserve the original query string (without leading '?').
        if (window.location.search && window.location.search.length > 1) {
          params.set("q", window.location.search.substring(1));
        }

        var target =
          window.location.origin +
          base +
          "/?" +
          params.toString() +
          window.location.hash;

        window.location.replace(target);
      })();
    </script>
  </head>
  <body></body>
</html>
